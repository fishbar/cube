!function(e,t){function n(){}function r(e){return a()&&-1===e.indexOf("runtime")&&-1===e.indexOf("http")&&!i._cached[e]}function a(){var e=document.createElement("a");e.href=document.currentScript.getAttribute("src");var t=e.host;return window.location.host!==t}function i(e,t,n){if(3===arguments.length){a()&&(e=[l,e].join("")),t=t.map(function(e){return r(e)?[l,e].join(""):e});var o=new i(e);o.load(t,n)}else this.name=e?e:"_",this.base=u,this.remoteBase=l,this.charset=d}function o(e,t){if(r(e)&&(e=[l,e].join("")),void 0!==t){var n=i._cached[e];i.css(n,t,e)}return i._cached[e]}function c(e,t,n){if(r(e)&&(e=[l,e].join("")),"function"!=typeof t){if(!m)return void console.warn("[Cube] dynamic loading css disabled!");i.use(e,function(r){i.css(r,t,e),n&&n(r)})}else i.use(e,t)}function s(e){var t,n,r=i._flag,a={};if(t=r[e]){for(var o=t.length-1;o>=0;o--)n=t[o](e),n!==!1&&(t.splice(o,1),o=t.length,n&&(a[n]=!0));t.length||delete r[e];for(o in a)s(o)}}var u="",l="",d="utf-8",f=(new Date).getTime(),h=1e4,_=!1,m=!1,g=window.localStorage?window.localStorage.getItem("__cube_debug__"):!1;i.toString=function(){return"Cube:v0.2.3"},i.init=function(e){return e.base&&"/"!==e.base&&(u=e.base.replace(/\/$/,"")),e.remoteBase&&(l=e.remoteBase.replace(/\/$/,"")),e.charset&&(d=e.charset),e.version&&(f=e.version),e.debug&&(_=e.debug),e.timeout&&(h=e.timeout),e.enableCss&&(m=e.enableCss),this},i.debug=function(){if(window.localStorage){var e=localStorage.getItem("__cube_debug__");e?localStorage.removeItem("__cube_debug__"):localStorage.setItem("__cube_debug__",!0)}},i.use=function(e,t){if(!e)throw new Error("Cube.use(moduleName) moduleName is undefined!");t||(t=n),-1===e.indexOf("http")&&(0===e.indexOf("./")?e=e.substr(1):"/"!==e[0]&&(e="/"+e));var r=new i;return r.load(e,function(n,r,a){t(a(e))}),this},i.css=function(){},i.remove=function(){},i.register=function(e,t){var n=this._cached[e];n?console.error("module already registered:",e):this._cached[e]=t},i._cached={},i._flag={},i._tree={},i.module=function(e){return this._cached[e]},i.prototype={load:function(e,t){var n=this.name,r=e;"string"==typeof r&&setTimeout(function(){i._flag[e]&&console.error("load script timeout:",e)},h),r?"string"==typeof r&&(r=[r]):r=[];var a=r.length,o=[],c=!1;if(this._load_stack={req:o,total:a,cb:t,count:0},a){for(var s,u=0;a>u;u++)s=r[u],_&&(i._tree[s]||(i._tree[s]={}),i._tree[s][n]=!0,c=this._checkCycle(s)),c||(o.push(s),this._loadScript(s));o.length||this._leafMod(t)}else this._leafMod(t)},_leafMod:function(t){var n,r={exports:{}};t&&(n=t.apply(e,[r,r.exports,o,c,"",""])),n?n.__filename=this.name:n=!0,i._cached[this.name]=n,s(this.name)},_checkCycle:function(e,t){t||(t=[e]);var n,r,a=i._tree[e];if(!a)return!1;for(var o in a){if(-1!==t.indexOf(o))return t.unshift(o),console.warn("[WARNNING]","cycle require : "+t.join(" > ")),!0;if(n=t.slice(0),n.unshift(o),r=this._checkCycle(o,n))return!0}return!1},_loadScript:function(t){function n(t){var n=a._load_stack,r=!1;if(i._cached[t]&&(n.count++,r=a.name),n.total<=n.count){var s,u={exports:{}},l=a.name,d=l.replace(/[^\/]*$/,"");n.cb&&(s=n.cb.apply(e,[u,u.exports,o,c,l,d])),s?s.__filename=a.name:s=!0,i._cached[a.name]=s}return r}var r=i._cached[t],a=this,u=i._flag;if(r)return u=n(t),void(u!==!1&&s(u));if(r===!1)return void u[t].push(n);u[t]||(u[t]=[]),u[t].push(n),i._cached[t]=!1;var l=document.getElementsByTagName("head")[0].appendChild(document.createElement("script"));l.type="text/javascript",l.async="true",l.charset=this.charset,g&&!/\.\w+\.js$/.test(t)&&(t=t.replace(/\.js$/,".source.js"));var d=t.startsWith("http")?t:[this.base,t,"?m=1&",f].join("");l.src=d}},t=t||"Cube",e[t]?console.log("window."+t+' already in using, replace the last "null" param in cube.js'):e[t]=i}(window,null);